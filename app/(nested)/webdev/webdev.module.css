.square {
	width: min(100vh, 100vw);
	height: min(100vh, 100vw);

	--extension: 100px;
	--transition-time: .5s;
	--border-transition-time: .2s;
	--border-thickness: 4px;

	--rot-angle: 30deg;

	.up_right, .down_right, .up_left, .down_left {
		width: calc(50% + var(--extension));
		height: calc(50% + var(--border-thickness)/2);
		position: absolute;
		transition: transform var(--transition-time), border-top var(--border-transition-time), border-bottom var(--border-transition-time);
	}

	.up_right {
		left: 50%;
		top: 0;

		transform-origin: bottom left;
		transform: rotate(calc(var(--rot-angle) * -1));

		border-bottom: var(--border-thickness) solid white;
	}
	
	.down_right {
		left: 50%;
		top: calc(50% - var(--border-thickness)/2);
		
		transform-origin: top left;
		transform: rotate(var(--rot-angle));
		border-top: var(--border-thickness) solid white;
	}
	
	.up_left {
		right: 50%;
		top: 0;

		transform-origin: bottom right;
	}

	.down_left {
		right: 50%;
		top: calc(50% - var(--border-thickness)/2);

		transform-origin: top right;
	}

	&.flip {
		.up_right, .down_right {
			transform: rotate(0deg);
		}

		.up_right {
			border-bottom: 0 solid white;
		}

		.down_right {
			border-top: 0 solid white;
		}

		.up_left {
			transform: rotate(var(--rot-angle));
			border-bottom: var(--border-thickness) solid white;
		}

		.down_left {
			transform: rotate(calc(var(--rot-angle) * -1));
			border-top: var(--border-thickness) solid white;
		}
	}
}

.grad {
	width: 100%;
	height: 100%;
	position: absolute;
	top: 0;

	--bg: theme('backgroundColor.slate.900');

	background: conic-gradient(
		var(--bg) 45deg, transparent 45deg,
		transparent 135deg, var(--bg) 135deg,
		var(--bg) 270deg, transparent 270deg,
		transparent 270deg, var(--bg) 270deg
	);

	transition: background var(--transition-time);
	
	&.flip {
		background: conic-gradient(
			var(--bg) 90deg, transparent 90deg,
			transparent 90deg, var(--bg) 90deg,
			var(--bg) 225deg, transparent 225deg,
			transparent 315deg, var(--bg) 315deg
		);
	}
}